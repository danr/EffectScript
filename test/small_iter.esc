
effect iter<a> {
  yield(a)
}

function sum(i: r ! iter<int> ! e): int ! e {
  handle i() {
    case yield(x, k):
        //puts("received " + show(x))
        1 + k("unit")
        //puts("finished from " + show(x))
    case done(r): 2
  }
  //puts("sum done")
}

function main() {
  puts(show(sum({
      yield(1);
      //yield(2);
      //"hej"
    })))
}


